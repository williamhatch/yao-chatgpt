import{_ as y,r as d,w as x,v as k,o as a,c as i,a as t,F as b,b as w,d as c,e as D,f as T,g as h,t as r,h as _,i as m}from"./index-3482b4a9.js";const C={components:{},data(){return{contentDiv:[],textarea:"",right:!0,show:!1,flag:!0,closeChat:this.close}},created(){},mounted(){this.scrollToBottom()},updated(){this.scrollToBottom()},methods:{scrollToBottom(){this.$nextTick(()=>{let s=this.$el.querySelector(".talk-content");s.scrollTop=s.scrollHeight})},sendInfo(){alert("aaa")},isShow(){},iptFocus(){},async submit(){let s=this.textarea;console.log("content:",s),this.textarea="";let l={name:"你",url:"",content:s,right:!0,time:new Date().toLocaleTimeString()};this.contentDiv.push(l);let n=await(await fetch("/api/ai/ask",{method:"POST",body:JSON.stringify({prompt:s}),headers:{"Content-Type":"application/json"}})).json();n=n.replace(/^\s*\n/,""),console.log(n);let o={name:"AI",url:"",content:n,right:!1,time:new Date().toLocaleTimeString()};this.contentDiv.push(o)},exit(){this.$emit("close",this.flag)}}},B={class:"talk"},S=t("div",{class:"talk-header"},[t("h2",null,"智能AI对话")],-1),F={class:"talk-content"},z={style:{"margin-top":"20px"}},A={key:0},N={style:{display:"flex","justify-content":"flex-end","align-items":"center"}},I={class:"name_right"},V={style:{"font-size":"0.5rem",color:"#9b9b9b"}},j={class:"url_right"},K={class:"content_right"},L=["textContent"],H={key:1},O={style:{display:"flex","align-items":"center"}},q={class:"url_left"},E={class:"name_left"},J={style:{"font-size":"0.5rem",color:"#9b9b9b"}},M={class:"content_left"},P={class:"talk-message"},U={class:"talk-message-content"},$={class:"talk-message-send"};function G(s,l,v,n,o,u){const p=d("a-avatar"),g=d("a-textarea"),f=d("a-button");return x((a(),i("div",B,[S,t("div",F,[(a(!0),i(b,null,w(o.contentDiv,e=>(a(),i("div",z,[e.right?(a(),i("div",A,[t("div",N,[t("div",I,[t("p",V,r(e.time),1)]),t("div",j,[c(p,{shape:"circle",size:30},{default:h(()=>[_("你")]),_:1})])]),t("div",K,[t("div",{textContent:r(e.content)},null,8,L)])])):m("",!0),e.right?m("",!0):(a(),i("div",H,[t("div",O,[t("div",q,[c(p,{shape:"circle",size:30,style:{backgroundColor:"#f56a00",verticalAlign:"middle"}},{default:h(()=>[_("AI")]),_:1})]),t("div",E,[t("p",J,r(e.time),1)])]),t("div",M,[t("pre",null,r(e.content),1)])]))]))),256))]),t("div",P,[t("div",U,[c(g,{style:{"overflow-y":"hidden"},value:o.textarea,"onUpdate:value":l[0]||(l[0]=e=>o.textarea=e),resize:"none",type:"textarea",rows:1,onKeypress:D(T(u.submit,["prevent"]),["enter"]),oninput:'this.style.height = "";this.style.height = this.scrollHeight + "px"'},null,8,["value","onKeypress"])]),t("div",$,[c(f,{type:"text",onClick:u.submit},{default:h(()=>[_("发送")]),_:1},8,["onClick"])])])],512)),[[k,o.flag]])}const R=y(C,[["render",G]]);export{R as default};
